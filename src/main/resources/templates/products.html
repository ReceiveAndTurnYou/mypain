<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <title>Список товаров</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
</head>
<body>

<header th:insert="recycling/header :: header">
</header>

<div class="container mt-5">

    <form method="post" th:action="@{/products/search}" class="col-12 col-lg-auto mb-2 mb-lg-0 me-lg-auto">
        <input name="search" type="search" class="form-control" placeholder="Найти по номеру..." aria-label="Search">
        <button type="submit" class="btn btn-secondary">Найти</button>
    </form>

    <div class="float-end">
        <a class="btn btn-info text-white" href="/addnewsupply">Добавить новый товар</a>
    </div>

    <h1>ТОВАРЫ</h1>

<div th:each="el : ${products}">
    <div class="card-columns">
        <div class="card my-3">
            <div class="col">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 th:text="'Тип товара: '+ ${el.product_type}" class="card-title"></h5>
                        <p th:text="'Номер: ' + ${el.productnumber}" class="card-text"></p>
                        <p th:text="'Плотность: ' + ${el.product_density}" class="card-text"></p>
                        <p th:text="'Условия хранения: ' + ${el.product_conditions}" class="card-text"></p>
                        <p th:text="'Количество: ' + ${el.product_count}" class="card-text"></p>
                    </div>
                    <div class="card-footer text-muted">
                        <p th:text="'Владелец: ' + ${el.owner.username}" class="card-text"></p>
                        <div sec:authorize="hasAuthority('ADMIN')">
                            <a class="btn btn-danger float-end" th:href="'/products/'  + ${el.idproduct_wh} + '/delete'">DELETE</a>
                            <a class="btn btn-warning float-end" th:href="'/products/'  + ${el.idproduct_wh} + '/edit'">EDIT</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


</div>
</body>

<div th:insert="recycling/footer :: footer" ></div>
</html>